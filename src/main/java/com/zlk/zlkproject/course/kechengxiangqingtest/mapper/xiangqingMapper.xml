<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zlk.zlkproject.course.kechengxiangqingtest.mapper.xiangqingMapper">
    <resultMap type="com.zlk.zlkproject.course.kechengxiangqingtest.entity.Kechengxiaojei" id="KechengxiaojeiMap">
        <result property="xiaojeiId" column="xiaojei_id" jdbcType="INTEGER"/>
        <result property="xiaojeiName" column="xiaojei_name" jdbcType="VARCHAR"/>
        <result property="xiaojeiJianjei" column="xiaojei_jianjei" jdbcType="VARCHAR"/>
        <result property="xiaojeiShijian" column="xiaojei_shijian" jdbcType="VARCHAR"/>
        <result property="xiaojeiPinfen" column="xiaojei_pinfen" jdbcType="VARCHAR"/>
        <result property="xiaojeiZhuangtai" column="xiaojei_zhuangtai" jdbcType="VARCHAR"/>
    </resultMap>

    <!--查询数据条数-->
    <select id="queryCountAAll" resultType="java.lang.Integer">
        select count(1) from kaohe.kechengxiaojei
    </select>

    <!--查询单个-->
    <select id="queryById" resultMap="KechengxiaojeiMap">
        select
        xiaojei_id, xiaojei_name, xiaojei_jianjei, xiaojei_shijian, xiaojei_pinfen, xiaojei_zhuangtai
        from kaohe.kechengxiaojei
        where xiaojei_id = #{xiaojeiId}
    </select>

    <!--查询指定行数据-->
    <select id="queryAllByLimit" resultMap="KechengxiaojeiMap" parameterType="java.lang.Integer">
        select
        xiaojei_id, xiaojei_name, xiaojei_jianjei, xiaojei_shijian, xiaojei_pinfen, xiaojei_zhuangtai
        from kaohe.kechengxiaojei
        limit #{offset}, #{limit}
    </select>

    <!--通过实体作为筛选条件查询-->
    <select id="queryAll" resultMap="KechengxiaojeiMap">
        select
        xiaojei_id, xiaojei_name, xiaojei_jianjei, xiaojei_shijian, xiaojei_pinfen, xiaojei_zhuangtai
        from kaohe.kechengxiaojei
        <where>
            <if test="xiaojeiId != null">
                and xiaojei_id = #{xiaojeiId}
            </if>
            <if test="xiaojeiName != null and xiaojeiName != ''">
                and xiaojei_name = #{xiaojeiName}
            </if>
            <if test="xiaojeiJianjei != null and xiaojeiJianjei != ''">
                and xiaojei_jianjei = #{xiaojeiJianjei}
            </if>
            <if test="xiaojeiShijian != null and xiaojeiShijian != ''">
                and xiaojei_shijian = #{xiaojeiShijian}
            </if>
            <if test="xiaojeiPinfen != null and xiaojeiPinfen != ''">
                and xiaojei_pinfen = #{xiaojeiPinfen}
            </if>
            <if test="xiaojeiZhuangtai != null and xiaojeiZhuangtai != ''">
                and xiaojei_zhuangtai = #{xiaojeiZhuangtai}
            </if>
        </where>
    </select>

    <!--新增所有列-->
    <insert id="insert" keyProperty="xiaojeiId" useGeneratedKeys="true">
        insert into kaohe.kechengxiaojei(xiaojei_name, xiaojei_jianjei, xiaojei_shijian, xiaojei_pinfen, xiaojei_zhuangtai)
        values (#{xiaojeiName}, #{xiaojeiJianjei}, #{xiaojeiShijian}, #{xiaojeiPinfen}, #{xiaojeiZhuangtai})
    </insert>

    <!--通过主键修改数据-->
    <update id="update">
        update kaohe.kechengxiaojei
        <set>
            <if test="xiaojeiName != null and xiaojeiName != ''">
                xiaojei_name = #{xiaojeiName},
            </if>
            <if test="xiaojeiJianjei != null and xiaojeiJianjei != ''">
                xiaojei_jianjei = #{xiaojeiJianjei},
            </if>
            <if test="xiaojeiShijian != null and xiaojeiShijian != ''">
                xiaojei_shijian = #{xiaojeiShijian},
            </if>
            <if test="xiaojeiPinfen != null and xiaojeiPinfen != ''">
                xiaojei_pinfen = #{xiaojeiPinfen},
            </if>
            <if test="xiaojeiZhuangtai != null and xiaojeiZhuangtai != ''">
                xiaojei_zhuangtai = #{xiaojeiZhuangtai},
            </if>
        </set>
        where xiaojei_id = #{xiaojeiId}
    </update>

    <!--通过主键删除-->
    <delete id="deleteById">
        delete from kaohe.kechengxiaojei where xiaojei_id = #{xiaojeiId}
    </delete>

</mapper>