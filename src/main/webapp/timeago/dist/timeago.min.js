!function(e,t){"object"==typeof module&&module.exports?module.exports=t(e):e.timeago=t(e)}("undefined"!=typeof window?window:this,function(){var e=function(e,t){t||(t="en");var n={},r=0,i=[60,60,24,7,365/7/12,12],o=6,u=["second","minute","hour","day","week","month","year"],a=["秒","分钟","小时","天","周","月","年"],c={en:function(e,t){if(0===t)return["just now","a while"];var n=u[parseInt(t/2)];return e>1&&(n+="s"),[e+" "+n+" ago","in "+e+" "+n]},zh_CN:function(e,t){if(0===t)return["刚刚","片刻后"];var n=a[parseInt(t/2)];return[e+n+"前",e+n+"后"]}},f=function(t){var n=new Date;return e&&(n=p(e)),(n.getTime()-p(t).getTime())/1e3},d=function(e,n){c[n]||(n=t);var r=(c[n],0),u=0;for(e<0&&(r=1),e=Math.abs(e);e>=i[u]&&u<o;u++)e/=i[u];return e=m(e),u*=2,e>(0===u?9:1)&&(u+=1),c[n](e,u)[r].replace("%s",e)},l=function(e,t){return d(f(e),t)},s=function(e,t){c[e]=t},p=function(e){if(e instanceof Date)return e;if(isNaN(e)){if(/^\d+$/.test(e))return new Date(m(e,10));var t=(e||"").trim();return t=t.replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/T/," ").replace(/Z/," UTC").replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(t)}return new Date(m(e))},m=function(e){return parseInt(e)},v=function(e,t){return e%=t,e=e?t-e:t,Math.ceil(e)},w=function(e){for(var t=1,n=0,r=e;e>=i[n]&&n<o;n++)e/=i[n],t*=i[n];return v(r,t)},g=function(e,t,r,i){var o=f(t);e.innerHTML=d(o,r),n["k"+i]=setTimeout(function(){g(e,t,r,i)},1e3*w(o))},h="data-timeago",T=function(e){return e.getAttribute?e.getAttribute(h):e.attr?e.attr(h):void 0},D=function(e,t){void 0===e.length&&(e=[e]);for(var n=0;n<e.length;n++)r++,g(e[n],T(e[n]),t,r)},b=function(){for(var e in n)clearTimeout(n[e]);n={}},y=function(e){t=e};return{format:l,register:s,render:D,cancel:b,setLocale:y}};return e});